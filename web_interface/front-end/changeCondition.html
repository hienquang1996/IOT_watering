<!DOCTYPE html>
<html>

<head>
  <title>Page 1</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet" />
  <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet" />
  <link href="data/styles.css" type="text/css" rel="stylesheet" />
  <link href="files/page_1/styles.css" type="text/css" rel="stylesheet" />
  <script src="resources/scripts/jquery-1.7.1.min.js"></script>
  <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
  <script src="resources/scripts/prototypePre.js"></script>
  <script src="data/document.js"></script>
  <script src="resources/scripts/prototypePost.js"></script>
  <script src="files/page_1/data.js"></script>
  <script type="text/javascript">
    $axure.utils.getTransparentGifPath = function () { return 'resources/images/transparent.gif'; };
    $axure.utils.getOtherPath = function () { return 'resources/Other.html'; };
    $axure.utils.getReloadPath = function () { return 'resources/reload.html'; };
  </script>



  <script>
    function myFunction() {
      const urlParams = new URLSearchParams(window.location.search);
      const myParam = urlParams.get("uid");

      var temporary = document.getElementById("u25_input").value;
      var humidity = document.getElementById("u26_input").value;
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          var response = xhttp.responseText;
          console.log("ok" + response);
          header("refresh:1;url=home.html");
        }
      };
      xhttp.open("GET", "https://iot-assignment.herokuapp.com/updatemcu/" + myParam + "?temporary=" + temporary + "&humidity=" + humidity, false);
      window.location.href = "home.html?uid=" + myParam;
      xhttp.send();

    }
  </script>
  

  <script>
    function goBack() {
      window.history.back();
    }
  </script>
</head>

<body>
  <div id="base" class="">

    <!-- Unnamed (Rectangle) -->
    <div id="u23" class="ax_default label">
      <div id="u23_div" class=""></div>
      <div id="u23_text" class="text ">
        <p>
          <span>Temperature</span>
        </p>
      </div>
    </div>

    <!-- Unnamed (Rectangle) -->
    <div id="u24" class="ax_default label">
      <div id="u24_div" class=""></div>
      <div id="u24_text" class="text ">
        <p>
          <span>Humidity</span>
        </p>
      </div>
    </div>

    <!-- data_Temperature (Text Field) -->
    <div id="u25" class="ax_default text_field" data-label="data_Temperature">
      <input id="u25_input" type="number" value="" />
    </div>

    <!-- data_Humidity (Text Field) -->
    <div id="u26" class="ax_default text_field" data-label="data_Humidity">
      <input id="u26_input" type="number" value="" />
    </div>

    <!-- OK buttom (Rectangle) -->
    <div id="u27" class="ax_default shape" data-label="OK buttom" onclick="myFunction()">
      <div id="u27_div" class=""></div>
      <div id="u27_text" class="text ">
        <p>
          <span>OK</span>
        </p>
      </div>
    </div>

    <!-- Cancel Buttom (Rectangle) -->
    <div id="u28" class="ax_default shape" data-label="Cancel Buttom" onclick="goBack()">
      <div id="u28_div" class=""></div>
      <div id="u28_text" class="text ">
        <p>
          <span>Cancel</span>
        </p>
      </div>
    </div>
  </div>
</body>

</html>